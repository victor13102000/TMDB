{"ast":null,"code":"var req = exports = module.exports = {};\n/**\n * Initiate a login session for `user`.\n *\n * Options:\n *   - `session`  Save login state in session, defaults to _true_\n *\n * Examples:\n *\n *     req.logIn(user, { session: false });\n *\n *     req.logIn(user, function(err) {\n *       if (err) { throw err; }\n *       // session saved\n *     });\n *\n * @param {User} user\n * @param {Object} options\n * @param {Function} done\n * @api public\n */\n\nreq.login = req.logIn = function (user, options, done) {\n  if (typeof options == 'function') {\n    done = options;\n    options = {};\n  }\n\n  options = options || {};\n  var property = this._userProperty || 'user';\n  var session = options.session === undefined ? true : options.session;\n  this[property] = user;\n\n  if (session && this._sessionManager) {\n    if (typeof done != 'function') {\n      throw new Error('req#login requires a callback function');\n    }\n\n    var self = this;\n\n    this._sessionManager.logIn(this, user, function (err) {\n      if (err) {\n        self[property] = null;\n        return done(err);\n      }\n\n      done();\n    });\n  } else {\n    done && done();\n  }\n};\n/**\n * Terminate an existing login session.\n *\n * @api public\n */\n\n\nreq.logout = req.logOut = function () {\n  var property = this._userProperty || 'user';\n  this[property] = null;\n\n  if (this._sessionManager) {\n    this._sessionManager.logOut(this);\n  }\n};\n/**\n * Test if request is authenticated.\n *\n * @return {Boolean}\n * @api public\n */\n\n\nreq.isAuthenticated = function () {\n  var property = this._userProperty || 'user';\n  return this[property] ? true : false;\n};\n/**\n * Test if request is unauthenticated.\n *\n * @return {Boolean}\n * @api public\n */\n\n\nreq.isUnauthenticated = function () {\n  return !this.isAuthenticated();\n};","map":{"version":3,"sources":["/home/victoramarilla/bootcamp/TMDB/node_modules/passport/lib/http/request.js"],"names":["req","exports","module","login","logIn","user","options","done","property","_userProperty","session","undefined","_sessionManager","Error","self","err","logout","logOut","isAuthenticated","isUnauthenticated"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,OAAO,GAAGC,MAAM,CAACD,OAAP,GAAiB,EAArC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAD,GAAG,CAACG,KAAJ,GACAH,GAAG,CAACI,KAAJ,GAAY,UAASC,IAAT,EAAeC,OAAf,EAAwBC,IAAxB,EAA8B;AACxC,MAAI,OAAOD,OAAP,IAAkB,UAAtB,EAAkC;AAChCC,IAAAA,IAAI,GAAGD,OAAP;AACAA,IAAAA,OAAO,GAAG,EAAV;AACD;;AACDA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,MAAIE,QAAQ,GAAG,KAAKC,aAAL,IAAsB,MAArC;AACA,MAAIC,OAAO,GAAIJ,OAAO,CAACI,OAAR,KAAoBC,SAArB,GAAkC,IAAlC,GAAyCL,OAAO,CAACI,OAA/D;AAEA,OAAKF,QAAL,IAAiBH,IAAjB;;AACA,MAAIK,OAAO,IAAI,KAAKE,eAApB,EAAqC;AACnC,QAAI,OAAOL,IAAP,IAAe,UAAnB,EAA+B;AAAE,YAAM,IAAIM,KAAJ,CAAU,wCAAV,CAAN;AAA4D;;AAE7F,QAAIC,IAAI,GAAG,IAAX;;AACA,SAAKF,eAAL,CAAqBR,KAArB,CAA2B,IAA3B,EAAiCC,IAAjC,EAAuC,UAASU,GAAT,EAAc;AACnD,UAAIA,GAAJ,EAAS;AAAED,QAAAA,IAAI,CAACN,QAAD,CAAJ,GAAiB,IAAjB;AAAuB,eAAOD,IAAI,CAACQ,GAAD,CAAX;AAAmB;;AACrDR,MAAAA,IAAI;AACL,KAHD;AAID,GARD,MAQO;AACLA,IAAAA,IAAI,IAAIA,IAAI,EAAZ;AACD;AACF,CAvBD;AAyBA;AACA;AACA;AACA;AACA;;;AACAP,GAAG,CAACgB,MAAJ,GACAhB,GAAG,CAACiB,MAAJ,GAAa,YAAW;AACtB,MAAIT,QAAQ,GAAG,KAAKC,aAAL,IAAsB,MAArC;AAEA,OAAKD,QAAL,IAAiB,IAAjB;;AACA,MAAI,KAAKI,eAAT,EAA0B;AACxB,SAAKA,eAAL,CAAqBK,MAArB,CAA4B,IAA5B;AACD;AACF,CARD;AAUA;AACA;AACA;AACA;AACA;AACA;;;AACAjB,GAAG,CAACkB,eAAJ,GAAsB,YAAW;AAC/B,MAAIV,QAAQ,GAAG,KAAKC,aAAL,IAAsB,MAArC;AACA,SAAQ,KAAKD,QAAL,CAAD,GAAmB,IAAnB,GAA0B,KAAjC;AACD,CAHD;AAKA;AACA;AACA;AACA;AACA;AACA;;;AACAR,GAAG,CAACmB,iBAAJ,GAAwB,YAAW;AACjC,SAAO,CAAC,KAAKD,eAAL,EAAR;AACD,CAFD","sourcesContent":["var req = exports = module.exports = {};\n\n/**\n * Initiate a login session for `user`.\n *\n * Options:\n *   - `session`  Save login state in session, defaults to _true_\n *\n * Examples:\n *\n *     req.logIn(user, { session: false });\n *\n *     req.logIn(user, function(err) {\n *       if (err) { throw err; }\n *       // session saved\n *     });\n *\n * @param {User} user\n * @param {Object} options\n * @param {Function} done\n * @api public\n */\nreq.login =\nreq.logIn = function(user, options, done) {\n  if (typeof options == 'function') {\n    done = options;\n    options = {};\n  }\n  options = options || {};\n  \n  var property = this._userProperty || 'user';\n  var session = (options.session === undefined) ? true : options.session;\n  \n  this[property] = user;\n  if (session && this._sessionManager) {\n    if (typeof done != 'function') { throw new Error('req#login requires a callback function'); }\n    \n    var self = this;\n    this._sessionManager.logIn(this, user, function(err) {\n      if (err) { self[property] = null; return done(err); }\n      done();\n    });\n  } else {\n    done && done();\n  }\n};\n\n/**\n * Terminate an existing login session.\n *\n * @api public\n */\nreq.logout =\nreq.logOut = function() {\n  var property = this._userProperty || 'user';\n  \n  this[property] = null;\n  if (this._sessionManager) {\n    this._sessionManager.logOut(this);\n  }\n};\n\n/**\n * Test if request is authenticated.\n *\n * @return {Boolean}\n * @api public\n */\nreq.isAuthenticated = function() {\n  var property = this._userProperty || 'user';\n  return (this[property]) ? true : false;\n};\n\n/**\n * Test if request is unauthenticated.\n *\n * @return {Boolean}\n * @api public\n */\nreq.isUnauthenticated = function() {\n  return !this.isAuthenticated();\n};\n"]},"metadata":{},"sourceType":"script"}